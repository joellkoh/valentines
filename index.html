<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will you be my Valentine?</title>
    <style>
        body {
            background-color: #ffe4e1; /* Pastel Pink */
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
            text-align: center;
            overflow: hidden; /* No scrolling allowed */
            height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #d6336c;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 30px;
            z-index: 10;
            text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);
        }

        /* --- Button Container --- */
        .buttons-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            z-index: 10;
            width: 100%;
            height: 60px; /* Reserves space so layout doesn't shift */
        }

        button {
            font-size: 1.5rem;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s ease; /* Smooth hover effect */
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            font-family: inherit;
        }

        #yesBtn {
            background-color: #ff6b6b;
            color: white;
            z-index: 11;
        }
        #yesBtn:hover {
            background-color: #ff4757;
            transform: scale(1.1);
        }

        #noBtn {
            background-color: white;
            color: #ff6b6b;
            z-index: 11;
            /* Initially it sits nicely in the flexbox */
            position: relative; 
            transition: top 0.3s ease, left 0.3s ease; /* Makes the jump look smoother */
        }

        /* --- Letter Section --- */
        #letter-container {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            z-index: 20;
            line-height: 1.6;
            font-size: 1.2rem;
            color: #444;
            border: 2px solid #ffb7b2;
            position: absolute;
        }

        /* --- Background Decorations --- */
        .bg-emoji {
            position: absolute;
            font-size: 4rem;
            opacity: 0.3;
            z-index: 0;
            animation: float 6s infinite ease-in-out;
            user-select: none;
            pointer-events: none; /* Allows clicking through emojis */
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
    </style>
</head>
<body onclick="playMusic()">

    <audio id="bgMusic" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <div class="bg-emoji" style="top: 10%; left: 10%;">üê∂</div>
    <div class="bg-emoji" style="top: 20%; right: 15%;">üíò</div>
    <div class="bg-emoji" style="bottom: 15%; left: 20%;">üê±</div>
    <div class="bg-emoji" style="bottom: 10%; right: 10%;">üèπ</div>
    <div class="bg-emoji" style="top: 50%; left: 5%;">üíï</div>
    <div class="bg-emoji" style="top: 5%; left: 50%;">üêà</div>

    <div id="main-screen">
        <h1>Will you be my Valentine?</h1>
        <div class="buttons-container">
            <button id="yesBtn" onclick="showLetter()">YES! ‚ù§Ô∏è</button>
            <button id="noBtn" onmouseover="moveButton()">No</button>
        </div>
    </div>

    <div id="letter-container">
        <h2>I love you gracie üíñ</h2>
        <p>
            I know that this has been a long time coming, but I'm really glad that you're now officially my valentine! I mean who else would you be a valentine for right :( I know that our relationship has not been as smooth sailing as I had hoped recently, but I would like to remind you that you mean the world to me, and that I love you so so so so so so so much, even though I might not express my love as well as I want to sometimes. Of course, I'm working on that, and those 'sometimes' will become never. <br><br>
            I know that we've had our ups and downs, but looking back on all our memories, I have really enjoyed every single moment we've had together, and I'm so glad I had you to spend my first year in Australia with. I couldn't have asked for a better girlfriend <3 You are so perfect, from the intricate way your thoughts weave together, to the explosive confidence bursting from the curves of your body. I miss holding you in my arms, and feeling the warmth of your skin brushing against mine. <br><br>
	    I patiently wait till I can spend everyday with you ‚ù§Ô∏è
            <br><br>
            Love,<br>
            Joel
        </p>
    </div>

    <script>
        function moveButton() {
            var btn = document.getElementById('noBtn');
            
            // This is the critical fix:
            // We switch to 'fixed' positioning so it calculates relative to the whole window
            btn.style.position = 'fixed'; 

            // Calculate random positions within the visible window
            // We subtract the button size (100px estimate) so it doesn't clip off the edge
            var x = Math.random() * (window.innerWidth - 100);
            var y = Math.random() * (window.innerHeight - 50);

            // Apply the new coordinates
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
            
            // Try to play music if she hovers the No button
            playMusic();
        }

        function showLetter() {
            document.getElementById('main-screen').style.display = 'none';
            document.getElementById('letter-container').style.display = 'block';
            playMusic();
        }

        function playMusic() {
            var music = document.getElementById("bgMusic");
            music.play().catch(error => {
                console.log("Browser prevented auto-play until user interaction.");
            });
        }
    </script>

</body>
</html>